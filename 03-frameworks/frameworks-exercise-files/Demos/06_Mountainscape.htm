<!doctype html>

<head>
	<script src="js/aframe.js"></script>

	<!-- https://github.com/ngokevin/kframe/tree/master/components/mountain/ -->
	<script src="js/aframe-mountain-component.js"></script>
</head>

<body>
	<a-scene fog="type: exponential; color: #CCF;"> 

		<a-assets>
			<img id="mountain" src="content/mountain.png" />
			<img id="concrete-texture" src="content/landingPad.png" />
			<img id="sky" src="content/fullmoon.png" />

			<a-asset-item id="space-craft" src="model/VTOL_OBJ_obj_.obj" preload="auto"></a-asset-item>
			<a-asset-item id="space-craft-mtl" src="model/VTOL_OBJ_obj_.mtl" preload="auto"></a-asset-item>

			<audio id="wind-sound" src="content/wind.wav" preload="auto"></audio>
			<audio id="space-craft-sound" src="content/spacecraft.wav" preload="auto"></audio>			
		</a-assets>

		<a-entity camera="userHeight: 1.6" position="0 14 0" look-controls wasd-controls="acceleration: 10; fly: false;"></a-entity>

		<a-sky src="#sky"></a-sky>

		<a-mountain
			material="src: #mountain; repeat: 4 4"
			sound="src: #wind-sound; autoplay: true; volume: 3; loop:true;"  
		>
		</a-mountain>  	
		
		<a-cylinder position="0 14 0" height="3" radius="0.4" material="src: #concrete-texture">
			<a-entity light="type: point; intensity: 0.75; distance: 50; decay: 2; color: #fff" position="0 10 10"></a-entity>
		</a-cylinder>

		<a-entity>
			<a-entity 
				position="0 8 -10" 
				rotation="0 90 0" 
				scale="0.005 0.005 0.005" 
				obj-model="obj: #space-craft; mtl: #space-craft-mtl"
				sound="src: #space-craft-sound; autoplay: true; volume: 1; loop:true;"
			>		
			
			<a-animation 
				attribute="position"
				dur="10000"
				repeat="indefinite"
				direction="alternate"				
				from="0 18 -10"
				to="0 17 10"
			>
			</a-animation>
				
			<a-animation 
				attribute="rotation"
				dur="7000"
				repeat="indefinite"
				direction="alternate"
					
				from="0 90 0"
				to="0 360 0"
			></a-animation>			
				
		</a-entity>

	</a-scene>
</body>

